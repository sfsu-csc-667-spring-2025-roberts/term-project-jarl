{"version":3,"file":"main.js","mappings":"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","sources":["webpack://term-project-jarl/./src/public/client/appManager.ts","webpack://term-project-jarl/./src/public/client/js/games.ts","webpack://term-project-jarl/./src/public/client/js/lobby.ts","webpack://term-project-jarl/./src/public/client/socket/index.ts","webpack://term-project-jarl/webpack/bootstrap","webpack://term-project-jarl/webpack/before-startup","webpack://term-project-jarl/webpack/startup","webpack://term-project-jarl/webpack/after-startup"],"sourcesContent":["// src/public/client/appManager.ts\n// Single entry point for all client-side initialization\n\nimport { initSocket, getSocket } from './socket/index';\n\ndeclare const bootstrap: any;\n\nclass AppManager {\n  private static instance: AppManager;\n  private initialized = false;\n  private socket: any = null;\n\n  private constructor() {}\n\n  public static getInstance(): AppManager {\n    if (!AppManager.instance) {\n      AppManager.instance = new AppManager();\n    }\n    return AppManager.instance;\n  }\n\n  public async init() {\n    if (this.initialized) {\n      console.log('App already initialized');\n      return;\n    }\n\n    console.log('Initializing application...');\n    this.initialized = true;\n\n    try {\n      // Wait for Bootstrap to be loaded\n      await this.waitForBootstrap();\n      \n      // Initialize socket after Bootstrap is ready\n      this.socket = initSocket();\n      \n      if (!this.socket) {\n        console.error('Failed to initialize socket');\n        return;\n      }\n\n      // Wait for socket to connect\n      await new Promise((resolve) => {\n        if (this.socket.connected) {\n          resolve(true);\n        } else {\n          this.socket.on('connect', () => resolve(true));\n          setTimeout(() => resolve(true), 2000); // Timeout after 2 seconds\n        }\n      });\n\n      console.log('Socket connected, initializing modules...');\n\n      // Initialize modules based on current page\n      const path = window.location.pathname;\n\n      if (path === '/' || path.includes('/lobby')) {\n        await this.initLobby();\n        this.initFunds(); // Initialize funds functionality on lobby page\n      } else if (path.includes('/games/')) {\n        await this.initGame();\n        this.initFunds(); // Initialize funds functionality on game page too\n      }\n\n      // Always initialize chat if elements exist\n      this.initChat();\n\n    } catch (error) {\n      console.error('Error initializing app:', error);\n    }\n  }\n\n  private waitForBootstrap(): Promise<void> {\n    return new Promise((resolve) => {\n      if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n        resolve();\n      } else {\n        console.log('Waiting for Bootstrap...');\n        const checkBootstrap = setInterval(() => {\n          if (typeof bootstrap !== 'undefined' && bootstrap.Modal) {\n            clearInterval(checkBootstrap);\n            console.log('Bootstrap loaded');\n            resolve();\n          }\n        }, 100);\n        \n        // Timeout after 5 seconds\n        setTimeout(() => {\n          clearInterval(checkBootstrap);\n          console.warn('Bootstrap load timeout');\n          resolve();\n        }, 5000);\n      }\n    });\n  }\n\n  private async initLobby() {\n    console.log('Initializing lobby...');\n    \n    try {\n      // Use require-style import\n      const lobby = await import('./js/lobby');\n      const Lobby = lobby.default;\n      \n      // Wait for Bootstrap to be fully loaded before initializing lobby\n      await this.waitForBootstrap();\n      \n      const lobbyInstance = new Lobby(this.socket);\n      lobbyInstance.init();\n    } catch (error) {\n      console.error('Error initializing lobby:', error);\n    }\n  }\n\n  private async initGame() {\n    console.log('Initializing game...');\n    \n    try {\n      // Use require-style import\n      const game = await import('./js/games');\n      const Game = game.default;\n      const gameInstance = new Game(this.socket);\n      gameInstance.init();\n    } catch (error) {\n      console.error('Error initializing game:', error);\n    }\n  }\n  \n  private initFunds() {\n    console.log('Initializing funds functionality...');\n    \n    // Add funds form\n    const addFundsForm = document.getElementById('add-funds-form');\n    if (addFundsForm) {\n      addFundsForm.addEventListener('submit', async (event) => {\n        event.preventDefault();\n        \n        const amount = (document.getElementById('amount') as HTMLInputElement)?.value;\n        const paymentMethod = (document.getElementById('payment-method') as HTMLSelectElement)?.value;\n        \n        if (!amount || isNaN(parseFloat(amount)) || parseFloat(amount) <= 0) {\n          this.showError('Please enter a valid amount');\n          return;\n        }\n        \n        try {\n          console.log('Adding funds:', { amount, payment_method: paymentMethod });\n          \n          const response = await fetch('/funds/add', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              amount: parseFloat(amount),\n              payment_method: paymentMethod\n            })\n          });\n          \n          if (!response.ok) {\n            const errorData = await response.json();\n            console.log('Add funds response not OK:', response.status, JSON.stringify(errorData));\n            throw new Error(`Server returned ${response.status}: ${JSON.stringify(errorData)}`);\n          }\n          \n          const data = await response.json();\n          \n          if (data.success) {\n            // Update balance display\n            this.updateBalanceDisplay(data.balance);\n            \n            // Show success message\n            this.showSuccess(`Successfully added $${parseFloat(amount).toFixed(2)} to your account`);\n            \n            // Hide modal\n            this.closeModal('add-funds-modal');\n            \n            // Reset form\n            (addFundsForm as HTMLFormElement).reset();\n          } else {\n            this.showError(data.message || 'Failed to add funds');\n          }\n        } catch (error) {\n          console.error('Error adding funds:', error);\n          this.showError('Failed to add funds. Please try again later.');\n        }\n      });\n    }\n    \n    // Withdraw funds form\n    const withdrawFundsForm = document.getElementById('withdraw-funds-form');\n    if (withdrawFundsForm) {\n      withdrawFundsForm.addEventListener('submit', async (event) => {\n        event.preventDefault();\n        \n        const amount = (document.getElementById('withdraw-amount') as HTMLInputElement)?.value;\n        \n        try {\n          const response = await fetch('/funds/withdraw', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              amount: amount ? parseFloat(amount) : null\n            })\n          });\n          \n          if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(`Server returned ${response.status}: ${JSON.stringify(errorData)}`);\n          }\n          \n          const data = await response.json();\n          \n          if (data.success) {\n            // Update balance display\n            this.updateBalanceDisplay(data.balance);\n            \n            // Show success message\n            this.showSuccess(`Successfully withdrew $${parseFloat(data.amount).toFixed(2)} from your account`);\n            \n            // Hide modal\n            this.closeModal('withdraw-funds-modal');\n            \n            // Reset form\n            (withdrawFundsForm as HTMLFormElement).reset();\n          } else {\n            this.showError(data.message || 'Failed to withdraw funds');\n          }\n        } catch (error) {\n          console.error('Error withdrawing funds:', error);\n          this.showError('Failed to withdraw funds. Please try again later.');\n        }\n      });\n    }\n    \n    // Load initial balance\n    this.fetchAndDisplayBalance();\n  }\n\n  // Fetch and display user's balance\n  private async fetchAndDisplayBalance() {\n    try {\n      const response = await fetch('/funds/balance');\n      \n      if (!response.ok) {\n        console.error('Failed to fetch balance:', response.status);\n        return;\n      }\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        this.updateBalanceDisplay(data.balance);\n      }\n    } catch (error) {\n      console.error('Error fetching balance:', error);\n    }\n  }\n\n  // Update balance display throughout the page\n  private updateBalanceDisplay(balance: number) {\n    const balanceElements = document.querySelectorAll('.user-balance');\n    const formattedBalance = parseFloat(balance.toString()).toFixed(2);\n    \n    balanceElements.forEach(element => {\n      element.textContent = `$${formattedBalance}`;\n    });\n  }\n\n  // Show error message\n  private showError(message: string) {\n    const errorElement = document.getElementById('funds-error');\n    if (errorElement) {\n      errorElement.textContent = message;\n      errorElement.style.display = 'block';\n      \n      // Hide after 5 seconds\n      setTimeout(() => {\n        errorElement.style.display = 'none';\n      }, 5000);\n    } else {\n      alert(`Error: ${message}`);\n    }\n  }\n\n  // Show success message\n  private showSuccess(message: string) {\n    const successElement = document.getElementById('funds-success');\n    if (successElement) {\n      successElement.textContent = message;\n      successElement.style.display = 'block';\n      \n      // Hide after 5 seconds\n      setTimeout(() => {\n        successElement.style.display = 'none';\n      }, 5000);\n    } else {\n      alert(`Success: ${message}`);\n    }\n  }\n\n  // Close modal\n  private closeModal(modalId: string) {\n    const modalElement = document.getElementById(modalId);\n    if (modalElement && typeof bootstrap !== 'undefined') {\n      const modal = bootstrap.Modal.getInstance(modalElement);\n      if (modal) {\n        modal.hide();\n      }\n    } else if (modalElement) {\n      modalElement.style.display = 'none';\n    }\n  }\n\n  private initChat() {\n    console.log('Initializing chat...');\n    \n    // Initialize chat if elements exist\n    const chatForm = document.getElementById('chat-form');\n    const chatInput = document.getElementById('chat-input');\n    const chatMessages = document.getElementById('chat-messages');\n    \n    if (chatForm && chatInput && chatMessages) {\n      // Remove existing listeners\n      const newChatForm = chatForm.cloneNode(true) as HTMLFormElement;\n      chatForm.parentNode?.replaceChild(newChatForm, chatForm);\n      \n      const newChatInput = newChatForm.querySelector('#chat-input') as HTMLInputElement;\n      \n      newChatForm.onsubmit = (e) => {\n        e.preventDefault();\n        \n        const message = newChatInput.value.trim();\n        if (!message) return;\n        \n        this.socket.emit('chat_message', {\n          message: message,\n          game_id: 'global'\n        });\n        \n        newChatInput.value = '';\n      };\n      \n      // Only listen once\n      this.socket.off('chat_message');\n      this.socket.on('chat_message', (data: any) => {\n        const messageDiv = document.createElement('div');\n        messageDiv.className = 'chat-message mb-2';\n        messageDiv.innerHTML = `\n          <div class=\"d-flex align-items-start\">\n            <div class=\"me-2\">\n              <strong>${data.username}:</strong>\n            </div>\n            <div class=\"flex-grow-1\">\n              ${data.message}\n            </div>\n            <small class=\"text-muted\">${new Date(data.timestamp).toLocaleTimeString()}</small>\n          </div>\n        `;\n        \n        chatMessages.appendChild(messageDiv);\n        chatMessages.scrollTop = chatMessages.scrollHeight;\n      });\n    }\n  }\n\n  public getSocket() {\n    return this.socket;\n  }\n}\n\n// Initialize on DOM load with a small delay to ensure Bootstrap is loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Add a small delay to ensure all scripts are loaded\n  setTimeout(() => {\n    AppManager.getInstance().init();\n  }, 100);\n});\n\n// Also handle window.load in case DOMContentLoaded fires too early\nwindow.addEventListener('load', () => {\n  if (!AppManager.getInstance()['initialized']) {\n    AppManager.getInstance().init();\n  }\n});\n\nexport default AppManager;\n","// src/public/client/js/games.ts\n\nclass Game {\n  private socket: any;\n  private initialized = false;\n\n  constructor(socket: any) {\n    this.socket = socket;\n  }\n\n  init() {\n    if (this.initialized) {\n      console.log('Game already initialized');\n      return;\n    }\n\n    console.log('Initializing game functionality...');\n    this.initialized = true;\n\n    this.initCardInteraction();\n    this.initGameControls();\n    this.setupSocketListeners();\n  }\n\n  private initCardInteraction() {\n    const playerCards = document.querySelector('.player-cards');\n    \n    if (playerCards) {\n      playerCards.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        if (target.classList.contains('card')) {\n          target.classList.toggle('selected');\n        }\n      });\n    }\n  }\n\n  private initGameControls() {\n    this.addControlHandler('check-btn', 'check');\n    this.addControlHandler('call-btn', 'call');\n    this.addControlHandler('fold-btn', 'fold');\n    this.addControlHandler('all-in-btn', 'all_in');\n    \n    // Bet/Raise button with amount\n    const betBtn = document.getElementById('bet-btn');\n    const raiseBtn = document.getElementById('raise-btn');\n    \n    if (betBtn || raiseBtn) {\n      const betButton = betBtn || raiseBtn;\n      const betAmountInput = document.getElementById('bet-amount') as HTMLInputElement;\n      \n      if (betButton) {\n        betButton.onclick = () => {\n          if (betAmountInput) {\n            const amount = parseInt(betAmountInput.value);\n            if (isNaN(amount) || amount <= 0) {\n              alert('Please enter a valid bet amount');\n              return;\n            }\n            \n            const action = betBtn ? 'bet' : 'raise';\n            this.socket.emit('game_action', { action, amount });\n          }\n        };\n      }\n    }\n    \n    // Leave game button\n    const leaveGameBtn = document.getElementById('leave-game-btn');\n    if (leaveGameBtn) {\n      leaveGameBtn.onclick = () => {\n        if (confirm('Are you sure you want to leave the game?')) {\n          const gameId = window.location.pathname.split('/').pop();\n          this.socket.emit('leave_game', gameId, (response: any) => {\n            if (response.success) {\n              window.location.href = '/';\n            } else {\n              alert('Error leaving game: ' + (response.error || 'Unknown error'));\n            }\n          });\n        }\n      };\n    }\n  }\n\n  private addControlHandler(buttonId: string, action: string) {\n    const button = document.getElementById(buttonId);\n    if (button) {\n      button.onclick = () => {\n        this.socket.emit('game_action', { action });\n      };\n    }\n  }\n\n  private setupSocketListeners() {\n    // Game update\n    this.socket.on('game_update', (data: any) => {\n      console.log('Game update:', data);\n      this.updateGameUI(data);\n    });\n    \n    // Game started\n    this.socket.on('game_started', (data: any) => {\n      console.log('Game started:', data);\n    });\n    \n    // Game ended\n    this.socket.on('game_ended', (data: any) => {\n      console.log('Game ended:', data);\n    });\n    \n    // Player action\n    this.socket.on('player_action', (data: any) => {\n      console.log('Player action:', data);\n    });\n  }\n\n  private updateGameUI(gameData: any) {\n    // Update pot\n    const potDisplay = document.querySelector('.pot-amount');\n    if (potDisplay && gameData.pot) {\n      potDisplay.textContent = `$${gameData.pot}`;\n    }\n    \n    // Update player info\n    const players = gameData.players || [];\n    players.forEach((player: any, index: number) => {\n      const playerElement = document.querySelector(`.player-${index + 1}`);\n      if (playerElement) {\n        // Update chips\n        const chipsElement = playerElement.querySelector('.player-chips');\n        if (chipsElement) {\n          chipsElement.textContent = `$${player.chips}`;\n        }\n        \n        // Update bet\n        const betElement = playerElement.querySelector('.player-bet');\n        if (betElement) {\n          betElement.textContent = player.currentBet ? `$${player.currentBet}` : '';\n        }\n        \n        // Update active player indicator\n        if (player.isActive) {\n          playerElement.classList.add('active-player');\n        } else {\n          playerElement.classList.remove('active-player');\n        }\n      }\n    });\n    \n    // Update community cards\n    if (gameData.communityCards) {\n      const communityCardsContainer = document.querySelector('.community-cards');\n      if (communityCardsContainer) {\n        communityCardsContainer.innerHTML = '';\n        gameData.communityCards.forEach((card: any) => {\n          const cardElement = document.createElement('div');\n          cardElement.className = 'card';\n          cardElement.innerHTML = `\n            <span class=\"card-rank\">${card.rank}</span>\n            <span class=\"card-suit\">${card.suit}</span>\n          `;\n          communityCardsContainer.appendChild(cardElement);\n        });\n      }\n    }\n  }\n}\n\nexport default Game;","// src/public/client/js/lobby.ts\n\n// Bootstrap types\ninterface BootstrapModal {\n  show(): void;\n  hide(): void;\n  toggle(): void;\n  dispose(): void;\n}\n\ninterface BootstrapStatic {\n  Modal: {\n    new(element: Element, options?: any): BootstrapModal;\n    getInstance(element: Element): BootstrapModal | null;\n  };\n}\n\ndeclare const bootstrap: BootstrapStatic;\n\nclass Lobby {\n  private socket: any;\n  private initialized = false;\n  private processingRequest = false;\n  private modals: {[key: string]: BootstrapModal} = {};\n\n  constructor(socket: any) {\n    this.socket = socket;\n  }\n\n  init() {\n    if (this.initialized) {\n      console.log('Lobby already initialized');\n      return;\n    }\n\n    console.log('Initializing lobby functionality...');\n    this.initialized = true;\n\n    // Initialize modals first\n    this.initializeModals();\n    this.setupButtons();\n    this.setupForms();\n    this.setupSocketListeners();\n  }\n\n  private initializeModals() {\n    try {\n      // Initialize Bootstrap modals\n      const modalIds = ['create-game-modal', 'add-funds-modal', 'join-game-modal'];\n      \n      modalIds.forEach(modalId => {\n        const modalElement = document.getElementById(modalId);\n        if (modalElement) {\n          console.log(`Initializing modal: ${modalId}`);\n          // Destroy existing modal if any\n          const existingModal = bootstrap.Modal.getInstance(modalElement);\n          if (existingModal) {\n            existingModal.dispose();\n          }\n          \n          // Create new modal\n          this.modals[modalId] = new bootstrap.Modal(modalElement, {\n            backdrop: 'static'\n          });\n          \n          // Add event listeners for form reset when modal is hidden\n          modalElement.addEventListener('hidden.bs.modal', () => {\n            const form = modalElement.querySelector('form');\n            if (form) {\n              form.reset();\n            }\n          });\n        } else {\n          console.warn(`Modal element not found: ${modalId}`);\n        }\n      });\n    } catch (error) {\n      console.error('Error initializing modals:', error);\n    }\n  }\n\n  private setupButtons() {\n    // Create Game Button\n    this.addClickHandler('create-game-btn', (e) => {\n      e.preventDefault();\n      this.showModal('create-game-modal');\n    });\n    \n    // Create Game Modal Button\n    this.addClickHandler('create-game-modal-btn', (e) => {\n      e.preventDefault();\n      this.showModal('create-game-modal');\n    });\n    \n    // Add Funds Button\n    this.addClickHandler('add-funds-btn', (e) => {\n      e.preventDefault();\n      this.showModal('add-funds-modal');\n    });\n    \n    // Join Game Modal Button\n    this.addClickHandler('join-game-modal-btn', (e) => {\n      e.preventDefault();\n      this.showModal('join-game-modal');\n    });\n    \n    // Cash Out Button\n    this.addClickHandler('cash-out-btn', async (e) => {\n      e.preventDefault();\n      \n      if (this.processingRequest) return;\n      this.processingRequest = true;\n      \n      try {\n        await this.handleCashOut();\n      } finally {\n        this.processingRequest = false;\n      }\n    });\n    \n    // Quick Join Buttons with event delegation\n    document.addEventListener('click', async (e) => {\n      const target = e.target as HTMLElement;\n      \n      if (target.classList.contains('join-btn') && !target.hasAttribute('disabled')) {\n        e.preventDefault();\n        \n        const gameId = target.dataset.id;\n        if (!gameId || this.processingRequest) return;\n        \n        this.processingRequest = true;\n        const originalText = target.textContent;\n        \n        try {\n          target.textContent = 'Joining...';\n          target.setAttribute('disabled', 'true');\n          \n          await this.joinGame(parseInt(gameId));\n        } catch (error) {\n          console.error('Error joining game:', error);\n          alert('Error joining game. Please try again.');\n          target.textContent = originalText;\n          target.removeAttribute('disabled');\n        } finally {\n          this.processingRequest = false;\n        }\n      }\n    });\n  }\n\n  private setupForms() {\n    // Create Game Form\n    this.setupForm('create-game-form', async (formData) => {\n      if (this.processingRequest) return;\n      this.processingRequest = true;\n      \n      try {\n        const data = {\n          name: formData.get('game-name') as string,\n          maxPlayers: parseInt(formData.get('max-players') as string),\n          minBuyIn: formData.get('min-buy-in') ? parseInt(formData.get('min-buy-in') as string) : undefined,\n          private: formData.get('private-game') === 'on'\n        };\n        \n        if (!data.name || isNaN(data.maxPlayers)) {\n          alert('Please fill in all required fields');\n          return;\n        }\n        \n        // Log data being sent\n        console.log('Creating game with data:', data);\n        \n        const response = await fetch('/games/create', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        \n        // Check if response is OK\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('Create game response not OK:', response.status, errorText);\n          throw new Error(`Server returned ${response.status}: ${errorText}`);\n        }\n        \n        // Parse JSON response\n        const contentType = response.headers.get('content-type');\n        if (!contentType || !contentType.includes('application/json')) {\n          const text = await response.text();\n          console.error('Non-JSON response:', text);\n          throw new Error('Invalid response format');\n        }\n        \n        const result = await response.json();\n        console.log('Create game response:', result);\n        \n        if (result.success) {\n          this.hideModal('create-game-modal');\n          // Navigate immediately\n          window.location.href = `/games/${result.game_id}`;\n        } else {\n          alert(result.message || 'Failed to create game');\n        }\n      } catch (error) {\n        console.error('Error creating game:', error);\n        alert('Error creating game. Please try again.');\n      } finally {\n        this.processingRequest = false;\n      }\n    });\n    \n    // Add Funds Form\n    this.setupForm('add-funds-form', async (formData) => {\n      if (this.processingRequest) return;\n      this.processingRequest = true;\n      \n      try {\n        const amount = parseFloat(formData.get('amount') as string);\n        const paymentMethod = formData.get('payment-method') as string;\n        \n        if (isNaN(amount) || amount < 10) {\n          alert('Please enter a valid amount (minimum $10)');\n          return;\n        }\n        \n        console.log('Adding funds:', { amount, paymentMethod });\n        \n        const response = await fetch('/funds/add', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            amount: amount,\n            payment_method: paymentMethod\n          })\n        });\n        \n        // Check response\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('Add funds response not OK:', response.status, errorText);\n          throw new Error(`Server returned ${response.status}: ${errorText}`);\n        }\n        \n        const result = await response.json();\n        console.log('Add funds response:', result);\n        \n        if (result.success) {\n          this.hideModal('add-funds-modal');\n          alert(`Funds added successfully! New balance: $${result.balance}`);\n          window.location.reload();\n        } else {\n          alert(result.message || 'Failed to add funds');\n        }\n      } catch (error) {\n        console.error('Error adding funds:', error);\n        alert('Error processing payment. Please try again.');\n      } finally {\n        this.processingRequest = false;\n      }\n    });\n    \n    // Join Game Form\n    this.setupForm('join-game-form', async (formData) => {\n      if (this.processingRequest) return;\n      this.processingRequest = true;\n      \n      try {\n        const gameId = formData.get('game-id') as string;\n        \n        if (!gameId || isNaN(parseInt(gameId))) {\n          alert('Please enter a valid game ID');\n          return;\n        }\n        \n        this.hideModal('join-game-modal');\n        await this.joinGame(parseInt(gameId));\n      } catch (error) {\n        console.error('Error joining game:', error);\n        alert('Error joining game. Please try again.');\n      } finally {\n        this.processingRequest = false;\n      }\n    });\n  }\n\n  private setupSocketListeners() {\n    if (!this.socket) {\n      console.error('Socket not initialized');\n      return;\n    }\n    \n    // Listen for game updates\n    this.socket.on('game_update', (data: any) => {\n      console.log('Game update received:', data);\n      this.refreshGamesList();\n    });\n    \n    // Listen for errors\n    this.socket.on('error', (error: any) => {\n      console.error('Socket error:', error);\n    });\n  }\n\n  private refreshGamesList() {\n    // Reload the page to refresh the games list\n    window.location.reload();\n  }\n\n  private joinGame(gameId: number): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (!this.socket || !this.socket.connected) {\n        reject(new Error('Socket not connected'));\n        return;\n      }\n      \n      console.log('Joining game:', gameId);\n      \n      // Set a timeout for the socket response\n      const timeout = setTimeout(() => {\n        reject(new Error('Join game timeout'));\n      }, 5000);\n      \n      this.socket.emit('join_game', gameId, (response: any) => {\n        clearTimeout(timeout);\n        console.log('Join game response:', response);\n        \n        if (response?.success) {\n          window.location.href = `/games/${gameId}`;\n          resolve();\n        } else {\n          alert(response?.error || 'Failed to join game');\n          reject(new Error(response?.error || 'Failed to join game'));\n        }\n      });\n    });\n  }\n\n  private async handleCashOut() {\n    if (!confirm('Are you sure you want to cash out all your funds?')) {\n      return;\n    }\n    \n    try {\n      const response = await fetch('/funds/withdraw', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Cash out response not OK:', response.status, errorText);\n        throw new Error(`Server returned ${response.status}: ${errorText}`);\n      }\n      \n      const result = await response.json();\n      console.log('Cash out response:', result);\n      \n      if (result.success) {\n        alert(`Cash out successful! Amount: $${result.amount}`);\n        window.location.reload();\n      } else {\n        alert(result.message || 'Cash out failed');\n      }\n    } catch (error) {\n      console.error('Error during cash out:', error);\n      alert('Error processing cash out. Please try again.');\n    }\n  }\n\n  private addClickHandler(elementId: string, handler: (e: MouseEvent) => void) {\n    const element = document.getElementById(elementId);\n    if (element) {\n      // Remove existing event listeners\n      const newElement = element.cloneNode(true) as HTMLElement;\n      if (element.parentNode) {\n        element.parentNode.replaceChild(newElement, element);\n      }\n      \n      // Add single event listener\n      const newRef = document.getElementById(elementId);\n      if (newRef) {\n        newRef.addEventListener('click', handler, { once: false });\n      }\n    }\n  }\n\n  private setupForm(formId: string, handler: (formData: FormData) => Promise<void>) {\n    const form = document.getElementById(formId) as HTMLFormElement;\n    if (form) {\n      // Remove existing event listeners\n      const newForm = form.cloneNode(true) as HTMLFormElement;\n      if (form.parentNode) {\n        form.parentNode.replaceChild(newForm, form);\n      }\n      \n      // Add single event listener\n      const newFormRef = document.getElementById(formId) as HTMLFormElement;\n      if (newFormRef) {\n        newFormRef.addEventListener('submit', async (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          \n          const formData = new FormData(newFormRef);\n          await handler(formData);\n        });\n      }\n    }\n  }\n\n  private showModal(modalId: string) {\n    console.log('Showing modal:', modalId);\n    \n    if (this.modals[modalId]) {\n      try {\n        this.modals[modalId].show();\n      } catch (error) {\n        console.error(`Error showing modal ${modalId}:`, error);\n        alert('Error showing modal. Please try again.');\n      }\n    } else {\n      console.warn(`Modal ${modalId} not initialized`);\n      // Try to initialize it on-demand\n      const modalElement = document.getElementById(modalId);\n      if (modalElement && typeof bootstrap !== 'undefined') {\n        this.modals[modalId] = new bootstrap.Modal(modalElement);\n        this.modals[modalId].show();\n      } else {\n        console.error(`Modal ${modalId} element not found or Bootstrap not loaded`);\n      }\n    }\n  }\n\n  private hideModal(modalId: string) {\n    console.log('Hiding modal:', modalId);\n    \n    if (this.modals[modalId]) {\n      try {\n        this.modals[modalId].hide();\n      } catch (error) {\n        console.error(`Error hiding modal ${modalId}:`, error);\n      }\n    } else {\n      console.warn(`Modal ${modalId} not initialized`);\n    }\n  }\n}\n\nexport default Lobby;","// src/public/client/socket/index.ts\n\ndeclare global {\n  interface Window {\n    io: any;\n  }\n}\n\nlet socket: any = null;\n\nexport const initSocket = (): any => {\n  // If socket already exists and is connected, return it\n  if (socket && socket.connected) {\n    console.log('Socket already connected');\n    return socket;\n  }\n\n  // Get user ID from the body data attribute\n  const userDataElement = document.querySelector('body');\n  if (!userDataElement || !userDataElement.dataset.userId) {\n    console.error('User ID not found in body dataset');\n    return null;\n  }\n\n  const userId = userDataElement.dataset.userId;\n  \n  if (!userId || userId === '0' || userId === '') {\n    console.error('Invalid user ID for socket connection');\n    return null;\n  }\n  \n  console.log(`Creating socket for user ${userId}`);\n  \n  // Make sure Socket.IO is loaded\n  if (!window.io) {\n    console.error('Socket.io not loaded');\n    return null;\n  }\n  \n  // Create new socket connection\n  socket = window.io({\n    auth: {\n      user_id: parseInt(userId)\n    },\n    reconnection: false,\n    transports: ['websocket'],\n    timeout: 10000\n  });\n  \n  // Socket connection event handlers\n  socket.on('connect', () => {\n    console.log('Socket connected:', socket.id);\n  });\n  \n  socket.on('connect_error', (error: Error) => {\n    console.error('Socket connection error:', error);\n  });\n  \n  socket.on('disconnect', (reason: string) => {\n    console.log('Socket disconnected:', reason);\n  });\n  \n  socket.on('auth_error', (message: string) => {\n    console.error('Socket authentication error:', message);\n    window.location.href = '/signin';\n  });\n  \n  socket.on('duplicate_connection', (message: string) => {\n    console.log('Duplicate connection detected');\n  });\n  \n  return socket;\n};\n\nexport const getSocket = (): any => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\n\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\n\n// Clean up on page unload\nwindow.addEventListener('beforeunload', () => {\n  disconnectSocket();\n});\n\nexport default { \n  initSocket, \n  getSocket, \n  disconnectSocket \n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/public/client/appManager.ts\");\n",""],"names":[],"sourceRoot":""}