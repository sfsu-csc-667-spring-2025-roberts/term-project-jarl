<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Poker</title>
    <%- include('shared/head') %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/games.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <script src="/js/games.js" defer></script>
    <script src="/js/actions.js" defer></script>

  </head> 
  <body>
    <%- include('partials/header', { user: locals.user }) %>
    <main id="gameId-<%= gameId %>">
       <!-- Welcome message to user, should prob edit or delete later  -->
      <div id="game-header">
        <div>
          <h1>Welcome <%= user.email %> (<%= user.user_id %>)</h1>
          <p>Game page <%= gameId %></p>
          <a href="#" id="start-game-btn">Start Game</a>
        </div>
        <button id="leave-game-btn" >Leave Game</button>
      </div>

      <!-- Actual table with cards, player PFPs and pot  -->
       <div id="card-container" class="card-container">
      <!-- Cards will be rendered here -->
      </div>
      <!-- Poker Table UI -->
      <div id="poker-table">
        <div class="player-seat" id="player-1">Player 1</div>
        <div class="player-seat" id="player-2">Player 2</div>
        <div class="player-seat" id="player-3">Player 3</div>
        <div class="player-seat" id="player-4">Player 4</div>

        <div id="pot">Pot: $0</div>
      </div>

      <!-- Game Controls -->
       <% if (!gameStarted) { %>
        <div id="action-buttons">
          <p>Waiting for host to start the game...</p>
        </div>
      
      <% } else if (isInHand) { %>
        <div id="action-buttons">
          <button id="btn-call">Call</button>
          <button id="btn-raise">Raise</button>
          <button id="btn-fold">Fold</button>
        </div>
      <% } else { %>
        <div id="action-buttons">
          <p>Waiting for the next hand...</p>
        </div>
      <% } %>


      <!-- Game action buttons (call, raise, fold, etc.) and game chat  -->
      <div>

      </div>
      <div id="leave-game-container" class="hidden">
        <%- include('shared/leave-game') %>
      </div>

    </main>
    <!-- TODO: uncomment later  -->
    <!-- include('shared/templates')  -->
     <div id="game-chat-container">
      <div id="game-chat-messages" class="chat-messages"></div>
      <form id="game-chat-form">
        <input id="game-chat-input" type="text" placeholder="Type your message..." autocomplete="off" />
        <button type="submit">Send</button>
      </form>
     </div>
     
  </body>
</html>